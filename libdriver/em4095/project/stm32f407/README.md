### 1. Chip

#### 1.1 Chip Info

Chip Name: STM32F407ZGT6.

Extern Oscillator: 8MHz.

UART Pin: TX/RX PA9/PA10.

GPIO Pin: CLK/SHD/DEMOD_OUT/MOD PB0/PB2/PA8/PB1.

### 2. Development and Debugging

#### 2.1 Integrated Development Environment

LibDriver provides both Keil and IAR integrated development environment projects.

MDK is the Keil ARM project and your Keil version must be 5 or higher.Keil ARM project needs STMicroelectronics STM32F4 Series Device Family Pack and you can download from https://www.keil.com/dd2/stmicroelectronics/stm32f407zgtx.

EW is the IAR ARM project and your IAR version must be 9 or higher.

#### 2.2 Serial Port Parameter

Baud Rate: 115200.

Data Bits : 8.

Stop Bits: 1.

Parity: None.

Flow Control: None.

#### 2.3 Serial Port Assistant

We use '\n' to wrap lines.If your serial port assistant displays exceptions (e.g. the displayed content does not divide lines), please modify the configuration of your serial port assistant or replace one that supports '\n' parsing.

### 3. EM4095

#### 3.1 Command Instruction

1. Show em4095 chip and driver information.

    ```shell
    em4095 (-i | --information)  
    ```

2. Show em4095 help.

    ```shell
    em4095 (-h | --help)        
    ```

3. Show em4095 pin connections of the current board.

    ```shell
    em4095 (-p | --port)              
    ```

4. Run em4095 read write test, num means test times.

    ```shell
    em4095 (-t readwrite | --test=readwrite) [--times=<num>]
    ```

5. Run em4095 read function, len means read length.

    ```shell
    em4095 (-e read | --example=read) [--length=<len>]
    ```

6. Run em4095 write function, data means written data and it is hexadecimal.

    ```shell
    em4095 (-e write | --example=wirte) [--data=<hex>]
    ```

#### 3.2 Command Example

```shell
em4095 -i

em4095: chip is EM Microelectronic EM4095.
em4095: manufacturer is EM Microelectronic.
em4095: interface is GPIO.
em4095: driver version is 1.0.
em4095: min supply voltage is 4.1V.
em4095: max supply voltage is 5.5V.
em4095: max current is 300.00mA.
em4095: max temperature is 110.0C.
em4095: min temperature is -40.0C.
```

```shell
em4095 -p

em4095: CLK connected to GPIOB PIN0.
em4095: SHD connected to GPIOB PIN2.
em4095: DEMOD_OUT connected to GPIOA PIN8.
em4095: MOD connected to GPIOB PIN1.
```

```shell
em4095 -t read --times=3

em4095: chip is EM Microelectronic EM4095.
em4095: manufacturer is EM Microelectronic.
em4095: interface is GPIO.
em4095: driver version is 1.0.
em4095: min supply voltage is 4.1V.
em4095: max supply voltage is 5.5V.
em4095: max current is 300.00mA.
em4095: max temperature is 110.0C.
em4095: min temperature is -40.0C.
em4095: start read write test.
em4095: read test.
em4095: irq read done.
raw data: 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x00 0x01 0x00 0x00 0x00 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x01 0x00 0x01 .
em4095: irq read done.
raw data: 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x00 0x00 0x01 0x00 0x01 0x00 .
em4095: irq read done.
raw data: 0x00 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x00 .
em4095: write test.
write buffer: 0x00 0x01 0x01 0x00 0x01 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x00 0x00 0x01 0x00 
em4095: irq write done.
raw data: 0x00 0x01 0x01 0x00 0x01 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x00 0x00 0x01 0x00 .
write buffer: 0x01 0x00 0x00 0x01 0x01 0x01 0x00 0x01 0x01 0x01 0x01 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x01 0x00 0x01 0x01 0x00 0x00 0x00 0x01 0x00 0x00 0x00 0x01 0x01 0x00 
em4095: irq write done.
raw data: 0x01 0x00 0x00 0x01 0x01 0x01 0x00 0x01 0x01 0x01 0x01 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x01 0x00 0x01 0x01 0x00 0x00 0x00 0x01 0x00 0x00 0x00 0x01 0x01 0x00 .
write buffer: 0x01 0x01 0x00 0x01 0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x00 0x01 0x01 0x01 0x01 0x01 0x00 0x00 0x00 0x01 0x01 
em4095: irq write done.
raw data: 0x01 0x01 0x00 0x01 0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x00 0x01 0x01 0x01 0x01 0x01 0x00 0x00 0x00 0x01 0x01 .
em4095: finish read write test.
```

```shell
em4095 -e read --length=128

em4095: irq read done.
read data: 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x01 0x00 0x00 0x00 0x00 0x00 0x01 0x01 0x00 0x00 0x01 0x01 0x00 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 0x01 0x00 0x01 0x00 0x01 .
```

```shell
em4095 -e write --data=0x0100010001000001

write data: 0x01 0x00 0x01 0x00 0x01 0x00 0x00 0x01 .
em4095: irq write done.
```

```shell
em4095 -h

Usage:
  em4095 (-i | --information)
  em4095 (-h | --help)
  em4095 (-p | --port)
  em4095 (-t readwrite | --test=readwrite) [--times=<num>]
  em4095 (-e read | --example=read) [--length=<len>]
  em4095 (-e write | --example=wirte) [--data=<hex>]

Options:
      --data=<data>              Set the written data.([default: 0])
  -e <read | write>, --example=<read | write>
                                 Run the driver example.
  -h, --help                     Show the help.
  -i, --information              Show the chip information.
      --length=<len>             Set the read length.
  -p, --port                     Display the pin connections of the current board.
  -t <read>, --test=<read>       Run the driver test.([default: 128])
      --times=<num>              Set the running times.([default: 3])
```
